<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>For Mut Mut ‚ù§Ô∏è</title>

    <!-- Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        height: 100vh;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #ffdde1, #fff1f8);
        font-family: "Dancing Script", cursive;
        color: #6b1b44;
        overflow: hidden;
        text-align: center;
        animation: backgroundBeat 1.5s infinite;
      }
      @keyframes backgroundBeat {
        0%,
        100% {
          background: linear-gradient(135deg, #ffdde1, #fff1f8);
        }
        25% {
          background: linear-gradient(135deg, #ffd1db, #ffe6f0);
        }
        50% {
          background: linear-gradient(135deg, #ffb3c1, #ffcee3);
        }
        75% {
          background: linear-gradient(135deg, #ffd1db, #ffe6f0);
        }
      }

      /* Main button */
      .message {
        font-size: 3rem;
        padding: 20px 40px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 16px;
        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
        cursor: pointer;
        position: relative;
        z-index: 10;
        animation: heartbeat 1.5s infinite;
        transition: top 1s, font-size 1s;
      }

      .to-top {
        position: absolute;
        top: 15px;
        font-size: 2rem !important;
        cursor: default;
        animation: none;
      }

      /* Heartbeat effect */
      @keyframes heartbeat {
        0%,
        100% {
          transform: scale(1);
        }
        25% {
          transform: scale(1.15);
        }
        50% {
          transform: scale(1);
        }
        75% {
          transform: scale(1.1);
        }
      }

      /* Hidden typing message */
      .hidden-msg {
        display: none;
        font-size: 1.6rem;
        margin-top: 120px;
        max-width: 90%;
        line-height: 1.6;
        color: #6b1b44;
        white-space: pre-wrap;
        border-right: 2px solid #c2185b;
        padding-right: 5px;
        animation: blinkCursor 0.7s infinite;
      }

      @keyframes blinkCursor {
        0% {
          border-color: transparent;
        }
        50% {
          border-color: #c2185b;
        }
        100% {
          border-color: transparent;
        }
      }

      /* Restart button */
      #restart-btn {
        display: none;
        margin-top: 30px;
        padding: 12px 28px;
        font-size: 1.3rem;
        border: none;
        border-radius: 10px;
        background: #ff80ab;
        color: white;
        cursor: pointer;
        font-family: "Dancing Script", cursive;
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.25);
        transition: background 0.3s, transform 0.2s;
      }
      #restart-btn:hover {
        background: #ff4f8b;
        transform: scale(1.05);
      }

      /* Floating hearts */
      .hearts {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        overflow: hidden;
        z-index: -1;
      }
      .heart {
        position: absolute;
        animation: float 6s linear forwards, heartColor 1.5s infinite;
      }
      @keyframes float {
        from {
          transform: translateY(100vh) scale(1);
          opacity: 1;
        }
        to {
          transform: translateY(-10vh) scale(1.5);
          opacity: 0;
        }
      }
      @keyframes heartColor {
        0%,
        100% {
          color: #ff80ab;
          text-shadow: 0 0 6px rgba(255, 64, 129, 0.6);
        }
        50% {
          color: #e91e63;
          text-shadow: 0 0 18px rgba(245, 0, 87, 1);
        }
      }

      /* üì± Responsive tweaks */
      @media (max-width: 768px) {
        .message {
          font-size: 2.2rem;
          padding: 16px 30px;
        }
        .hidden-msg {
          font-size: 1.3rem;
          margin-top: 80px;
        }
        #restart-btn {
          font-size: 1.1rem;
          padding: 10px 22px;
        }
      }
      @media (max-width: 480px) {
        .message {
          font-size: 1.8rem;
          padding: 12px 20px;
        }
        .hidden-msg {
          font-size: 1.1rem;
          margin-top: 60px;
        }
        #restart-btn {
          font-size: 1rem;
        }
      }
    </style>
  </head>
  <body>
    <div class="message" id="btn-heart">üíñ Tap Me üíñ</div>
    <div class="hidden-msg" id="typed-msg"></div>
    <button id="restart-btn">üîÑ Restart Surprise</button>
    <!-- Heart React Button -->
<div style="margin-top: 20px;">
  <button id="heart-react-btn" style="
    font-family: 'Dancing Script', cursive;
    font-size: 2rem;
    background: #ff80ab;
    border: none;
    border-radius: 12px;
    padding: 10px 20px;
    color: white;
    cursor: pointer;
    box-shadow: 0 6px 16px rgba(0,0,0,0.25);
    transition: background 0.3s, transform 0.2s;
    display: inline-flex;
    align-items: center;
    gap: 10px;
  ">
    ‚ù§Ô∏è React <span id="heart-count">0</span>
  </button>
</div>
    <div class="hearts" id="hearts"></div>

    <!-- Hidden YouTube background music -->
    <div id="ytPlayer"></div>

    <!-- ‚úÖ jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.youtube.com/iframe_api"></script>

    <script>
      // Heart React Button Logic
      const heartReactBtn = document.getElementById("heart-react-btn");
      const heartCountSpan = document.getElementById("heart-count");
      // Load count from localStorage or start at 0
      let heartCount = parseInt(localStorage.getItem("heartReactCount")) || 0;
      heartCountSpan.textContent = heartCount;
      // On click, increment count, update display and save to localStorage
      heartReactBtn.addEventListener("click", () => {
        heartCount++;
        heartCountSpan.textContent = heartCount;
        localStorage.setItem("heartReactCount", heartCount);
        // Optional: small scale animation on click
        heartReactBtn.style.transform = "scale(1.2)";
        setTimeout(() => {
          heartReactBtn.style.transform = "scale(1)";
        }, 150);
      });

      /*************** Floating Hearts ***************/
      const heartsContainer = document.getElementById("hearts");
      function spawnHeart() {
        const heart = document.createElement("div");
        heart.className = "heart";
        heart.textContent = ["üíñ", "üíï", "üíó", "‚ù§Ô∏è", "‚ù£Ô∏è"][
          Math.floor(Math.random() * 5)
        ];
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.fontSize = 16 + Math.random() * 32 + "px";
        heart.style.animationDuration =
          4 + Math.random() * 4 + "s, 1.5s infinite";
        heartsContainer.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
      }
      (function loopHearts() {
        spawnHeart();
        setTimeout(loopHearts, 500);
      })();

      /*************** YouTube Music ***************/
      let player,
        ready = false,
        started = false;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player("ytPlayer", {
          height: "0",
          width: "0",
          videoId: "d7Zf5c0Nb1o", // ‚ù§Ô∏è Ed Sheeran - Perfect
          playerVars: {
            autoplay: 1, // autoplay on load
            controls: 0,
            loop: 1, // loop enabled
            playlist: "d7Zf5c0Nb1o", // required for loop to work
            modestbranding: 1,
            mute: 1, // start muted to allow autoplay on some browsers
          },
          events: {
            onReady: (event) => {
              ready = true;
              event.target.mute(); // ensure muted on ready
              event.target.playVideo();
            },
            onStateChange: (event) => {
              if (event.data === YT.PlayerState.ENDED) {
                player.seekTo(0);
                player.playVideo();
              }
            },
          },
        });
      }

      function typeWriter(element, text, speed = 70) {
        let i = 0;
        element.innerHTML = "";
        element.style.display = "block";
        element.style.borderRight = "none"; // stop cursor blink

        function typing() {
          if (i < text.length) {
            element.innerHTML += text.charAt(i);
            i++;
            setTimeout(typing, speed);
          } else {
            // Show restart button
            $("#restart-btn").fadeIn();

            // Fade out the cursor after 2 seconds
            setTimeout(() => {
              element.style.transition = "border-right 0.5s ease-out";
              element.style.borderRight = "2px solid transparent";
            }, 2000);
          }
        }
        typing();
      }

      /*************** Surprise Message ***************/
      function showSurprise() {
        $("#btn-heart").addClass("to-top").text("üíñüíñ").hide();
        let msg = `
My dearest Mut, üíï
I know life feels heavy sometimes,
but please remember you are never alone.  
Through every struggle, every tear, and every doubt,  
I am here to hold you, comfort you, and remind you how amazing you are. üíó  
You are my light, my safe place, my forever love.  
Even on your hardest days, you are more than enough. üå∏  
So breathe, my love. Smile.  
Because your smile is my whole world. üíï  
Forever and always,  
‚Äî Your Admirer ‚ù§Ô∏è
      `;
        typeWriter(document.getElementById("typed-msg"), msg, 50);

        if (ready && !started) {
          started = true;
          player.unMute();
          player.playVideo();
        }
      }

      /*************** Button Events ***************/
      $("#btn-heart").click(showSurprise);
      $("#restart-btn").click(function () {
        $("#btn-heart").removeClass("to-top").text("üíñ Tap Me üíñ").show();
        $("#typed-msg").hide().text("");
        $(this).hide();
        if (player) {
          player.seekTo(0);
          player.pauseVideo();
          player.mute();
        }
        started = false;
      });
    </script>
  </body>
</html>
